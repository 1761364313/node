"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const pLimit = require('../utils/pLimit');
function fetchPromiseLimit(pArray, plimit = 10) {
    return new Promise((resolve, reject) => {
        let limit = pLimit(plimit);
        let input = [];
        if (pArray.length === 0) {
            reject(`Error in promiselimit parameter`);
        }
        for (let i = 0; i < pArray.length; i++) {
            input.push(limit(() => pArray[i]));
        }
        Promise.all(input).then((res) => {
            resolve(res);
        }, (err) => {
            reject(err);
        });
    });
}
exports.default = fetchPromiseLimit;
